<htlm>
    <head>
    </head>
    <body>
    Here we go
    <button id = "find-me">Show my location</button><br/>
    <button id = "track-me">Track my location</button><br/>
    <button id = "beep">Beep</button><br/>
    <p id = "status"></p>
    <a id = "map-link" target="_blank"></a>
    
    <script>
        const mapLink = document.querySelector('#map-link');
        const status = document.querySelector('#status');
    
        function success(position) {
            beep();
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;
    
            let today = new Date()
            status.textContent = today;
            mapLink.href = `https://www.openstreetmap.org/#map=18/${latitude}/${longitude}`;
            mapLink.textContent = `Latitude: ${latitude} °, Longitude: ${longitude} °`;
        }
    
        function error() {
            status.textContent = 'Unable to retrieve your location';
        }
    
        function trackMe() {
            navigator.geolocation.watchPosition(success, error)
        }
    
    
        function geoFindMe() {
            beep();
            mapLink.href = '';
            mapLink.textContent = '';
    
    
            if (!navigator.geolocation) {
                status.textContent = 'Geolocation is not supported by your browser';
            } else {
                status.textContent = 'Locating...';
                navigator.geolocation.getCurrentPosition(success, error);
            }
    
        }
    
        document.querySelector('#find-me').addEventListener('click', geoFindMe);
        document.querySelector('#track-me').addEventListener('click', trackMe);
        document.querySelector('#beep').addEventListener('click', beep);
        const context = new window.AudioContext();
    
        function beep() {
            console.log("beep2");
            const successNoise = context.createOscillator();
            successNoise.frequency = "600";
            successNoise.type = "sine";
            successNoise.frequency.exponentialRampToValueAtTime(
                800,
                context.currentTime + 0.05
            );
            successNoise.frequency.exponentialRampToValueAtTime(
                1000,
                context.currentTime + 0.15
            );
    
            successGain = context.createGain();
            successGain.gain.exponentialRampToValueAtTime(
                0.01,
                context.currentTime + 0.3
            );
    
            successFilter = context.createBiquadFilter("bandpass");
            successFilter.Q = 0.01;
    
            successNoise
                .connect(successFilter)
                .connect(successGain)
                .connect(context.destination);
            successNoise.start();
            successNoise.stop(context.currentTime + 0.2);
            console.log("ended");
        }
    </script>
    </body>
    
    </html>
